USE CODEGNAN;
-- ---------DATE FUNCTIONS
CREATE TABLE EMP10 (ID INT, DATEE DATE );
INSERT INTO EMP10 VALUES (101,"2024-08-24");
INSERT INTO EMP10 VALUES (101,"24-08-2024");   -- ERROR INCORRECT DATE VALUE
SELECT * FROM EMP10;
SELECT CURDATE();  -- IN ORACLE 
SELECT CURRENT_DATE();  -- IN MYSQL
SELECT DATE_ADD("2024-01-01",INTERVAL 3 MONTH);  -- OUTPUT 2024-04-01
SELECT DATE_ADD("2024-01-01",INTERVAL 3 DAY); -- OUTPUT 2024-01-04
SELECT DATE_ADD("2024-01-01",INTERVAL 3 YEAR);   --  OUTPUT 2027-01-01

SELECT DATEDIFF ("2024-02-01","2024-01-01"); -- 31
SELECT DATEDIFF ("2024-01-01","2024-05-01"); -- -121
SELECT DATEDIFF ("2024-01-31","2024-01-01"); -- 30
CREATE TABLE EMP11( ID INT, TIMEE TIME);
SELECT * FROM EMP11;
INSERT INTO EMP11 VALUES (1,"03:03:03");   -- INSERTED 
INSERT INTO EMP11 VALUES (2,"25:03:03");    -- INSERTED 
SELECT * FROM EMP11;
SELECT CURTIME();
SELECT ADDTIME ("10:10:10","01:01:01");   --  11:11:11
SELECT SUBTIME ("10:10:10","01:01:01");   --  09:09:09
SELECT TIMEDIFF("10:10:10","11:10:10");    -- -01:00:00
SELECT TIMEDIFF("11:10:10","10:10:10");    -- 1:00:00
SELECT TIME_TO_SEC("00:01:10");  -- 70 SEC

--   TIMESTAMP

SELECT CURRENT_TIMESTAMP();    -- 2024-07-22  10:18:22
SELECT TIMESTAMPDIFF(MONTH,"2024-02-01 10:10:10","2024-01-01 10:10:10");  -- -1
SELECT TIMESTAMPDIFF(MONTH,"2024-01-01 10:10:10","2024-01-01 10:10:10");  -- 0
SELECT TIMESTAMPDIFF(DAY,"2024-02-01 10:10:10","2024-01-01 10:10:10");   -- -31
SELECT TIMESTAMPDIFF(DAY,"2024-01-01 10:10:10","2024-02-01 10:10:10");   -- 31
SELECT TIMESTAMPDIFF(YEAR,"2024-02-01 10:10:10","2024-01-01 10:10:10");  -- 0
CREATE TABLE EMP12( ID INT ,TS TIMESTAMP);
INSERT INTO EMP12 VALUES (1,"2024-01-03 10:10:10");
SELECT * FROM EMP12;
CREATE TABLE EMP13(ID INT, TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP);
INSERT INTO EMP13 VALUES (1 ,"2024-02-01 10:10:10");
INSERT INTO EMP13  (ID) VALUES (2);
SET SQL_SAFE_UPDATES =0;
UPDATE EMP13 SET ID =4;
SELECT * FROM EMP13;        -- 4 2024-02-01 10:10:10  4 2024-07-22  10:28:01   
CREATE TABLE EMP14(ID INT,TS TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP);
INSERT INTO EMP14 VALUES (1,"2024-01-1 10:10:10");
SELECT * FROM EMP14 ; -- 1, 2024-01-01 10:10:10
INSERT INTO EMP14 (ID) VALUES (2); 
SELECT * FROM EMP14 ; -- 1, 2024-01-01 10:10:10  -- 2, 2024-07-22 21:15:30
UPDATE EMP14 SET ID=4;
SELECT * FROM EMP14 ;  -- 4, 2024-07-22 21:18:12     -- 4, 2024-07-22 21:18:12

